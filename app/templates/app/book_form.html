<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>{% if book %}Editar{% else %}Cadastrar{% endif %} Livro</title>
</head>
<body>
    <h1>{% if book %}Editar{% else %}Cadastrar{% endif %} Livro</h1>

    <form method="post"> <!-- não aceita PUT, PATCH, DELETE -->
        {% csrf_token %}

        <label for="title">Título:</label>
        <input type="text" id="title" name="title" value="{{ book.title|default:'' }}" required><br><br>

        <label for="author">Autor:</label>
        <input type="text" id="author" name="author" value="{{ book.author|default:'' }}" required><br><br>

        <label for="pages">Páginas:</label>
        <input type="number" id="pages" name="pages" value="{{ book.pages|default:'' }}" required><br><br>

        <label for="published_date">Data de publicação (YYYY-MM-DD):</label>
        <input type="date" id="published_date" name="published_date" value="{{ book.published_date|date:'Y-m-d'|default:'' }}" required><br><br>

        <button type="submit">{% if book %}Atualizar{% else %}Cadastrar{% endif %}</button>
    </form>

<p><a href="{% url 'book_list' %}">Voltar para a listagem de livros</a></p>
</body>
</html>